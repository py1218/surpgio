---
import { Image } from "astro:assets";
import { QUOTE, SITE_TITLE } from "@/consts";
---

<div
  class="fixed top-0 -z-10 !w-screen md:block h-screen bg-cover bg-center tracking-wide"
  style="background-image: url('/surpgio_background.png');"
></div>

<section
  class="flex-1 w-full !z-[20] relative flex items-start justify-center pt-8 overflow-auto"
  id="hero"
>
    <div 
      class="mt-8 text-center w-full max-w-4xl p-2 sm:p-4 md:p-8 lg:p-12 rounded-lg text-white flex flex-col justify-center"
      style="
        background: linear-gradient(to bottom, rgba(108, 92, 231, 0.7), rgba(72, 61, 156, 0.7));
        min-height: 0;
        max-height: 550px; 
        height: 80%;
        box-sizing: border-box;
      "
    >
      <script type="module">
        const handleSubmit = event => {
          event.preventDefault();
          const myForm = event.target;
          const formData = new FormData(myForm);

          fetch("/", {
            method: "POST",
            headers: { "Content-Type": "application/x-www-form-urlencoded" },
            body: new URLSearchParams(formData).toString()
          })
            .then(() => {
              myForm.style.display = "none";
              document.getElementById('contact-thankyou').style.display = "block";
            })
            .catch(error => alert(error));
        };

        window.addEventListener('DOMContentLoaded', () => {
          const form = document.querySelector('form[name="contact"]');
          if (form) {
            form.addEventListener("submit", handleSubmit);
          }
        });
      </script>
      <form 
        name="contact"
        netlify
        class="flex flex-col gap-4 w-full max-w-full"
        style="font-size: clamp(12px, 2vw, 18px);"
      >
        <input type="hidden" name="form-name" value="contact" />
        <div class="flex flex-col md:flex-row gap-4">
          <div class="flex-1 min-w-0">
            <label for="name" class="block text-left mb-1" style="color: #dfe6e9;">Name</label>
            <input id="name" name="name" type="text" required class="w-full px-2 py-1 rounded bg-[#22223b] text-[#dfe6e9] border border-[#636e72] focus:outline-none focus:ring-2 focus:ring-[#6c5ce7] text-[inherit]" />
          </div>
          <div class="flex-1 min-w-0">
            <label for="email" class="block text-left mb-1" style="color: #dfe6e9;">Email</label>
            <input id="email" name="email" type="email" required class="w-full px-2 py-1 rounded bg-[#22223b] text-[#dfe6e9] border border-[#636e72] focus:outline-none focus:ring-2 focus:ring-[#6c5ce7] text-[inherit]" />
          </div>
        </div>
        <div>
          <label for="subject" class="block text-left mb-1" style="color: #dfe6e9;">Subject</label>
          <input id="subject" name="subject" type="text" required class="w-full px-2 py-1 rounded bg-[#22223b] text-[#dfe6e9] border border-[#636e72] focus:outline-none focus:ring-2 focus:ring-[#6c5ce7] text-[inherit]" />
        </div>
        <div>
          <label for="message" class="block text-left mb-1" style="color: #dfe6e9;">Message</label>
          <textarea id="message" name="message" rows="5" required class="w-full px-2 py-1 rounded bg-[#22223b] text-[#dfe6e9] border border-[#636e72] focus:outline-none focus:ring-2 focus:ring-[#6c5ce7] text-[inherit]"></textarea>
        </div>
        <button type="submit" class="mt-2 px-4 py-2 rounded bg-[#55efc4] text-[#22223b] font-bold hover:bg-[#00b894] transition text-[inherit]">Send</button>
      </form>
      <div id="contact-thankyou" style="display:none;" class="text-xl font-bold text-[#55efc4] py-8">
        Thank you for reaching out! We will get back to you ASAP.
      </div>
    </div>
</section>



